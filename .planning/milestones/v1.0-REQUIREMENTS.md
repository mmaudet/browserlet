# Requirements Archive: v1.0 Browserlet MVP

**Archived:** 2026-01-31
**Status:** ✅ SHIPPED

This is the archived requirements specification for v1.0.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: Browserlet

**Defined:** 2026-01-29
**Core Value:** Automatisation web résiliente pour applications legacy, sans coût récurrent d'IA

## v1 Requirements

Requirements for initial release. All shipped.

### Recording

- [x] **REC-01**: User can start/stop recording mode from Side Panel
- [x] **REC-02**: Extension captures clicks on any element
- [x] **REC-03**: Extension captures text input in form fields
- [x] **REC-04**: Extension captures navigation between pages
- [x] **REC-05**: Extension generates semantic hints (role, aria-label, text, data-attribute) instead of fragile XPath
- [x] **REC-06**: Elements are highlighted during recording (visual feedback)
- [x] **REC-07**: Recording works inside iframes (same-origin and cross-origin where possible)
- [x] **REC-08**: Captured actions are sent to LLM for BSL script generation

### Execution

- [x] **EXEC-01**: Extension parses BSL (YAML) scripts
- [x] **EXEC-02**: Extension executes BSL scripts step-by-step (deterministic)
- [x] **EXEC-03**: Semantic resolver finds elements by multi-hint strategy (role + text + aria + fallback)
- [x] **EXEC-04**: Smart waiting detects element availability (not fixed delays)
- [x] **EXEC-05**: Humanization layer adds random delays between actions
- [x] **EXEC-06**: User can stop execution at any time
- [x] **EXEC-07**: Execution handles errors gracefully with clear messages

### BSL Actions

- [x] **ACT-01**: click — click on an element
- [x] **ACT-02**: type — enter text in a field
- [x] **ACT-03**: select — choose option in dropdown
- [x] **ACT-04**: extract — extract data from element
- [x] **ACT-05**: wait_for — wait for condition
- [x] **ACT-06**: navigate — go to URL
- [x] **ACT-07**: scroll — scroll to element
- [x] **ACT-08**: hover — hover over element

### Side Panel UI

- [x] **UI-01**: Side Panel displays list of available scripts
- [x] **UI-02**: Scripts can be searched/filtered by name, app, tag
- [x] **UI-03**: Monaco Editor integrated for BSL script editing with YAML syntax highlighting
- [x] **UI-04**: Execution progress shows current step, progress bar
- [x] **UI-05**: Execution results display extracted data
- [x] **UI-06**: Results can be copied as JSON or CSV
- [x] **UI-07**: Context zone shows current page URL and detected entities
- [x] **UI-08**: Recording mode has dedicated UI with action list

### Contextual Triggers

- [x] **TRIG-01**: Extension detects current page context (URL, elements, entities)
- [x] **TRIG-02**: Trigger conditions can match URL patterns
- [x] **TRIG-03**: Trigger conditions can detect element presence
- [x] **TRIG-04**: Suggest mode: show relevant scripts in Side Panel when context matches
- [x] **TRIG-05**: Auto-execute mode: run script automatically when context matches (with notification)
- [x] **TRIG-06**: User can enable/disable triggers per site

### LLM Integration

- [x] **LLM-01**: Recorded actions are analyzed by LLM to generate BSL script
- [x] **LLM-02**: Support Claude API (Anthropic)
- [x] **LLM-03**: Support Ollama (local models)
- [x] **LLM-04**: User provides their own API key (stored encrypted)
- [x] **LLM-05**: Rate limiting with exponential backoff
- [x] **LLM-06**: Fallback if LLM unavailable (basic selector generation)

### Storage

- [x] **STOR-01**: Scripts saved in chrome.storage.local
- [x] **STOR-02**: Scripts can be exported as YAML files
- [x] **STOR-03**: Scripts can be imported from YAML files
- [x] **STOR-04**: Scripts have metadata (name, description, version, target_app, author)
- [x] **STOR-05**: Execution history logged (last 50 runs per script)

### Authentication

- [x] **AUTH-01**: Extension detects if user is not logged in (session check)
- [x] **AUTH-02**: Extension prompts user to log in manually when session required
- [x] **AUTH-03**: Script pauses and resumes after manual authentication

### Internationalization

- [x] **I18N-01**: UI available in French
- [x] **I18N-02**: UI available in English
- [x] **I18N-03**: Language auto-detected from browser settings

## v2 Requirements (Deferred)

Tracked but not in v1.0 scope.

### Authentication (Advanced)

- **AUTH-10**: SSO passthrough (SAML, CAS, OIDC detection and wait)
- **AUTH-11**: MFA detection and pause
- **AUTH-12**: Session recovery (resume script after re-authentication)
- **AUTH-13**: Encrypted credential store with master password

### Self-Healing

- **HEAL-01**: Detect when selector fails
- **HEAL-02**: Use LLM to suggest alternative selectors
- **HEAL-03**: Auto-repair script with user confirmation

### Enterprise

- **ENT-01**: Audit trail (who ran what when)
- **ENT-02**: Script version control
- **ENT-03**: Visual execution replay (screenshots)
- **ENT-04**: Scheduled execution
- **ENT-05**: Webhook output

### Server Central

- **SRV-01**: Central server for script sync
- **SRV-02**: Multi-user access control
- **SRV-03**: Usage analytics

## Out of Scope

Explicitly excluded.

| Feature | Reason |
|---------|--------|
| Firefox support | Chrome uniquement (Manifest V3 stable), pas de fragmentation |
| Self-healing v1 | Complexe, semantic selectors réduisent le besoin |
| Serveur central v1 | Valider l'extension seule d'abord |
| Version SaaS | AGPL-3.0 pur, pas de service hébergé |
| Runtime AI (full-IA) | Contre la vision produit — IA en création uniquement |
| Video recording | Complexité storage/bandwidth, screenshots suffisent |
| Multi-tab parallel | Complexité, single-tab workflows d'abord |
| Debugging breakpoints | Console logs suffisent pour v1 |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| REC-01 to REC-08 | Phase 2 | Complete |
| EXEC-01 to EXEC-07 | Phase 4 | Complete |
| ACT-01 to ACT-08 | Phase 4 | Complete |
| UI-01 to UI-08 | Phase 3 | Complete |
| TRIG-01 to TRIG-06 | Phase 6 | Complete |
| LLM-01 to LLM-06 | Phase 5 | Complete |
| STOR-01 to STOR-05 | Phase 3 | Complete |
| AUTH-01 to AUTH-03 | Phase 4 | Complete |
| I18N-01 to I18N-03 | Phase 3 | Complete |

**Coverage:**
- v1 requirements: 54 total
- Shipped: 54
- Dropped: 0

---

## Milestone Summary

**Shipped:** 54 of 54 v1 requirements
**Adjusted:** None
**Dropped:** None

All requirements delivered as specified. No scope changes during implementation.

---
*Archived: 2026-01-31 as part of v1.0 milestone completion*
